# システムの流れ

## データ入力
* クライアント会社よりExcelファイル受信(受信原本)
  * 受け取ったファイルをどう読み取らせるか？どこに置くのか？
* システム読込
  * 必要データをデータベース(DB)へ格納
  * データを加工しDBへ格納
    * クラス・距離数より金額の算出(会社受取額・ドライバー支払額)しDB格納
      * ドライバー支払額については通常額と足あり(回送ドライバー分・足ドライバー分)
      * 返信原本用の通し番号生成
* 追加データをどう処理するか？
  * 差分取込
    * データベース側に業務キー(通し番号？)を持たせ重複を排除する

## データ出力
* 返送用原本・回送表原本の作成
  * データベースよりデータ取り込み
  * 返送用原本
    * ⇒受信原本に金額と通し番号等必要事項を受信原本追記する
    * Excelファイルで出力
  * 画面出力用原本画面(ホーム画面)を作成⇒もしくは現行の回送表に出力
    * ⇒画像ファイルとPDFファイルを作成出力
      * ⇒できればオペレーターの任意のタイミングでLINEへ送信
  * 業務終了報告の帳票作成
    * クライアント会社へ送信用
    * 会社内報告用

# データ閲覧画面

## デフォルト画面
* 表示
  * 受信原本通りの並び
  * 回送表原本当日分の通し番号あり
* 機能
  * 各画面への移動
  * 出力のボタン
    * クライアント返信用
    * ドライバー掲示用

## 着確認用画面
* 表示
  * 営業所ごとに並び替え
  * 電話番号表示
  * 引取一覧
  * 納車一覧
* 機能
  * 変更キャンセル受付どうやるか？
  * 変更キャンセル画面へ移動

## オペレーター用画面
* 表示
  * 車両把握画面
  * ドライバー把握画面
    * 現在位置
    * 現在状況
      * 回送中
      * 移動中
      * 待機中
      * 指示待ち






